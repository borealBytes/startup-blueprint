quick_code_check:
  description: >
    Perform fast code quality check focusing on common issues and patterns.

    INPUTS FROM WORKSPACE (already cached by router): - diff.txt: Full commit
    diff (fetched once by router) - ci_summary.json: CI analysis results -
    commits.json: Commit history (last 10)

    YOUR TASKS: 1. Use WorkspaceTool to read diff.txt 2. Use WorkspaceTool to
    read ci_summary.json for context 3. Use WorkspaceTool to read commits.json
    for context 4. Scan for common code smells:
       - Long functions (>50 lines)
       - Deep nesting (>3 levels)
       - Magic numbers (hardcoded constants)
       - Duplicate code patterns
       - TODO/FIXME comments
       - Poor variable naming
       - Missing error handling
       - Console.log/print statements
    5. Identify potential bugs:
       - Off-by-one errors
       - Null/undefined checks
       - Resource leaks (unclosed files/connections)
       - Race conditions (async/await issues)
    6. Check for best practices:
       - DRY (Don't Repeat Yourself)
       - Single Responsibility Principle
       - Proper error propagation
       - Consistent code style

    IMPORTANT: - Focus on NEW code (lines with '+' in diff) - Skip CI errors
    (already in ci_summary.json) - Be constructive and specific - Suggest fixes,
    not just problems - Prioritize high-impact issues

    CATEGORIZATION: - **Critical**: Potential bugs, security issues, broken
    functionality - **Warning**: Code smells, maintainability issues, style
    violations - **Info**: Suggestions for improvement, best practices

    OUTPUT FORMAT: Use WorkspaceTool to write JSON to quick_review.json: {
      "critical": [
        {
          "type": "potential_bug",
          "file": "src/api.ts",
          "line": 42,
          "code_snippet": "if (user.id = req.params.id)",
          "issue": "Assignment (=) instead of comparison (===)",
          "fix_suggestion": "Change to: if (user.id === req.params.id)",
          "severity": "critical"
        }
      ],
      "warnings": [
        {
          "type": "code_smell",
          "file": "src/utils.ts",
          "line_start": 10,
          "line_end": 75,
          "issue": "Function 'processData' is 65 lines long",
          "fix_suggestion": "Extract helper functions for parsing, validation,
    and formatting",
          "severity": "warning"
        },
        {
          "type": "best_practice",
          "file": "src/db.ts",
          "line": 23,
          "code_snippet": "console.log(user.password)",
          "issue": "Logging sensitive data (password)",
          "fix_suggestion": "Remove console.log or redact sensitive fields",
          "severity": "warning"
        }
      ],
      "info": [
        {
          "type": "suggestion",
          "file": "src/parser.ts",
          "line": 8,
          "issue": "Magic number 86400 used without explanation",
          "fix_suggestion": "Define as const SECONDS_IN_DAY = 86400",
          "severity": "info"
        }
      ],
      "summary": "1 critical bug, 2 warnings, 1 suggestion",
      "files_reviewed": 8,
      "lines_reviewed": 342
    }

  expected_output: >
    Quick code review results saved to quick_review.json with: - Categorized
    findings (critical, warning, info) - Specific line numbers and code snippets
    - Clear issue descriptions - Actionable fix suggestions - File and LOC
    statistics
