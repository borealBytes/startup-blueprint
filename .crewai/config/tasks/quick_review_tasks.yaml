quick_code_review:
  description: |
    YOU MUST EXECUTE THESE 2 TOOL CALLS. DO NOT SKIP.

    STEP 1 - MANDATORY TOOL CALL:
    Call WorkspaceTool with:
    - operation: "read"
    - filename: "diff.json"
    - content: ""

    Extract these EXACT values:
    - files_changed (integer)
    - additions (integer)
    - deletions (integer)
    - pr_number (integer)
    - commit_sha (string)

    STEP 2 - MANDATORY TOOL CALL:
    Call WorkspaceTool with:
    - operation: "write"
    - filename: "quick_review.json"
    - content: (JSON object below)

    JSON structure for content parameter:
    {
      "status": "success",
      "passed": true,
      "summary": "Quick metadata review complete",
      "critical": [],
      "warnings": [],
      "info": ["Reviewed {files_changed} files, {total_lines} lines changed"],
      "files_reviewed": {files_changed},
      "total_findings": 0,
      "suggestions": []
    }

    Where:
    - {files_changed} = value from Step 1
    - {total_lines} = additions + deletions from Step 1

    Add to suggestions if:
    - additions + deletions > 500: {"title": "Large PR", "description": "Consider crewai:full-review label"}
    - files_changed > 20: {"title": "Many files", "description": "Consider crewai:full-review label"}

    CRITICAL:
    - You CANNOT complete this task without calling both tools
    - Your response MUST include actual values from diff.json
    - DO NOT make up numbers
    - DO NOT skip tool calls

  expected_output: |
    You MUST return this EXACT format with REAL data from diff.json:

    "Quick review complete: {files_changed} files, {additions}+{deletions} lines"

    Where {files_changed}, {additions}, {deletions} are the ACTUAL values you read from diff.json in Step 1.

    DO NOT return generic text. Use the real numbers from your tool call.
